<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Fetch</title>
</head>

<body>
  <script>
    //Fetch syntax: fetch(url, [options]) 
    //url: URL to access, options: methods, headers etc.

    //Using response.ok and response.status properties for error checking and display
    async function fetchURL1() {
      let response = await fetch('https://jsonplaceholder.typicode.com/todos/1');

      if (response.ok) { // if HTTP-status is 200-299
        // get the response body (the method explained below)
        let json = await response.json();
      } else {
        alert("HTTP-Error: " + response.status);
      }
    }

    fetchURL1();

    //GET requests using fetch
    //Reading response and parsing to JSON (using await)
    async function fetchURL2() {
      let url = 'https://api.github.com/repos/javascript-tutorial/en.javascript.info/commits';
      let response = await fetch(url);

      let commits = await response.json(); // read response body and parse as JSON

      alert("Fetched though await : " + commits[0].author.login);
    }

    fetchURL2()

    //Reading response and parsing to JSON (using promises)
    fetch('https://api.github.com/repos/javascript-tutorial/en.javascript.info/commits')
      .then(resp => resp.json())
      .then(resp => alert("fetched through promise chaining : " + resp[0].author.login));


    //POST request using fetch

  </script>
</body>

</html>